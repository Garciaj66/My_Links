<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Redirigiendo...</title>
    
    <!-- Ruta absoluta al archivo de datos. Ajusta 'My_Links' si tu repo cambia de nombre -->
    <script src="/My_Links/id_mapping.js"></script>
    
    <script>
        // 1. Obtener la ruta actual
        const path = window.location.pathname;
        
        // 2. Limpiar la ruta para obtener solo el ID final
        // Divide por "/" y elimina espacios vacíos para evitar errores con barras dobles
        const segments = path.split('/').filter(part => part.length > 0);
        
        // El ID es el último segmento de la URL
        const id = segments[segments.length - 1];

        // 3. Verificar y Redirigir
        if (typeof redirects !== 'undefined' && redirects[id]) {
            document.title = "Redirigiendo a " + id;
            window.location.replace(redirects[id]);
        } else {
            // 4. Manejo de error: ID no encontrado
            document.write(`
                <div style="font-family: sans-serif; text-align: center; margin-top: 50px;">
                    <h1>⚠️ Enlace no encontrado</h1>
                    <p>El ID <strong>"${id}"</strong> no existe en la base de datos.</p>
                    <a href="/My_Links/">Volver al inicio</a>
                </div>
            `);
        }
    </script>
</head>
<body>
</body>
</html>
